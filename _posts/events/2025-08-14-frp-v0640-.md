> id: https://www.appinn.com/frp/-full

> link: https://www.appinn.com/frp/

> title: frp v0640

# frp v0640
_Published on Thu, 14 Aug 2025 12:47:28 +0000_

[frp](https://www.appinn.com/frp/) 是一款跨平台的内网穿透工具，支持 Windows、macOS 与 Linux，它需要你有一台拥有固定公网 IP 的电脑，VPS 最好，然后就能愉快的进行内网穿透了。还支持 https，甚至可以用它进行小程序开发。@Appinn

v0.64.0 新增 **tokenSource** 支持
-----------------------------

2025年8月10日，frp v0.64.0 更新1个主要功能：

-   新增 **tokenSource** 支持，允许从文件中加载认证 token，而不是直接在配置文件中写死，避免了在配置文件中直接暴露 token 的风险。

此外，v0.64.0 还修复了 SSH 隧道网关错误绑定地址的问题，提升了连接的稳定性和可用性。

网络的本地本来是应该互联互通的，但各种各样的原因会导致互联互不通。于是就需要造轮子解决它，frp 就是这样一个轮子，开源、免费、简单易用。

当然，免费意味着你需要自备一款拥有固定公网 IP 的电脑/VPS 作为中转节点。这台电脑可以是拥有固定公网 IP 的任意电脑，也可以自配一台 VPS，青小蛙依旧推荐 [Vultr](https://www.vultr.com/?ref=7872434-4F) 的机器，便宜好用，控制面板简单。

> 另外通过青小蛙的[推荐链接注册](https://www.vultr.com/?ref=7112193)（👈有返利），还送 50 刀体验金，仅限新用户。Vultr 推荐美国、德国的机器。如果不嫌麻烦，也可以试试 [阿里云](https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=tqir5sme) 的机器，优点肯定是连接响应速度快了，但带宽略小。

这里假设你已经有一台 VPS 了，只需要跟着步骤走即可：

设置 frp 服务器
----------

1.  根据系统[下载程序](https://github.com/fatedier/frp/releases)，并解压缩
2.  将 **frps** 及 **frps.toml** 放到具有[公网 IP 的机器](https://www.vultr.com/?ref=7872434-4F)上
3.  创建 token 文件，内容就是你的密钥

青小蛙目前所用的 frps.toml 文件内容：

bindPort = 1723

auth.tokenSource.type = "file"
auth.tokenSource.file.path = "/etc/frp/token"

webServer.addr = "0.0.0.0"
webServer.port = 7500
webServer.user = "用户名"
webServer.password = "密码"

allowPorts = \[
  { start = 7001, end = 7010 }
\]

最后一行是青小蛙打开了 7001～7010 几个端口。

新建 /etc/frp/token 文件，内容直接添加你自定义的密钥即可，你可以把它理解为 frp 之间互相联系的口令。

### 运行：

另外，针对 Linux 用户，[这里](https://gist.github.com/ihipop/4dc607caef7c874209521b10d18e35af)有一个后台运行服务可以参考。以上为 Linux 系统的执行命令，如果是 Windows 系统：

c:\\Tools\\frp\\frps.exe -c c:\\Tools\\frp\\frps.toml

假设 frps 解压缩到了 **c:\\Tools\\frp\\** 文件夹。

以及，请让防火墙通过 7000 端口，以及 7001、7002 端口。

设置 frp 客户端
----------

1.  根据系统[下载程序](https://github.com/fatedier/frp/releases)
2.  将 **frpc** 及 **frpc.toml** 放到处于内网环境的机器上。

这里以 Windows 远程桌面、群晖管理界面为例，修改 **frpc.****toml** 配置文件：

serverAddr = 服务器公网 IP
serverPort = 1723

auth.tokenSource.type = "file"
auth.tokenSource.file.path = "C:\\Tools\\frp\\token"

\[RDP\]
type = tcp
local\_ip = 127.0.0.1
local\_port = 3389
remote\_port = 7001
 
\[DSM\]
type = tcp
local\_ip = 群晖在局域网中的 IP 地址
local\_port = 5000
remote\_port = 7002

别忘记创建 token 文件，内容和之前服务器上的内容相同。另外 remote\_port 中的端口需要在服务器中打开（allowPorts 字段）

然后，启动 Windows 命令提示符，运行：

c:\\Tools\\frp\\frpc.exe -c c:\\Tools\\frp\\frpc.toml

这里假设你的 frp 解压缩到了 **C:\\Tools\\frp\\** 文件夹下。

如果看到两行 **start proxy success** 就代表成功了。

远程访问
----

此时，就可以在外网访问网内资源了。

比如远程桌面，只需要打开微软的远程桌面客户端，然后使用 **公网IP:7001** 即可连接。

比如群晖，只需要打开浏览器，在地址栏输入 **公网IP:7002** 即可访问 DSM 的管理界面。

其它配置
----

frp 官网提供了非常详尽的[说明书](https://github.com/fatedier/frp/blob/master/README_zh.md#%E4%B8%BA%E6%9C%AC%E5%9C%B0-http-%E6%9C%8D%E5%8A%A1%E5%90%AF%E7%94%A8-https)，包括转发 ssh、http、https、转发 Unix 域套接字等等，都可以配置使用。

但，其实对于初学者来说，还是有点费劲的。

更多示例
----

青小蛙开了[一个帖子](https://meta.appinn.net/t/frp/11319)，准备连载一些 frp 的示例，以及如果在 Windows 下以系统服务运行 frp 等等一些内容。感兴趣的同学可以前往参考、讨论、分享。

目前有两个示例：

没错，你遇到了坑，也欢迎分享下来，尤其错误代码，大家一起解决。
